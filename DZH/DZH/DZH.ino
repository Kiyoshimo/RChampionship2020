
#include <Wire.h>
#include <Adafruit_PWMServoDriver.h>

#define EN 8           //步进电机使能端，低电平有效
#define X_DIR 5        //X轴步进电机方向控制
#define Y_DIR 6        //y轴步进电机方向控制
#define X_STP 2        //x轴步进控制
#define Y_STP 3        //y轴步进控制
#define X_BUTTON 4     //x轴微动开关
#define Y_BUTTON 7     //y轴微动开关
#define angle_load 220 //装填角度
#define angle_fire 320 //释放角度
#define gap 20 //珠子的间距
// 默认地址 0x40
Adafruit_PWMServoDriver pwm = Adafruit_PWMServoDriver();


//图案1：心形
int PatternHeart[19][19] = {
  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
, -1, -1, -1, -1, -1,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
, -1, -1, -1, -1,  0,  0,  1,  0,  0, -1, -1, -1,  0,  0,  0,  0, -1, -1, -1
, -1, -1, -1,  0,  0,  1,  1,  1,  0,  0, -1,  0,  0,  1,  1,  0,  0, -1, -1
, -1, -1,  0,  0,  1,  1,  1,  1,  1,  0,  0,  0,  1,  1,  1,  1,  0,  0, -1
, -1, -1, -1,  0,  1,  1,  1,  1,  1,  0,  0,  1,  1,  1,  1,  1,  1,  0, -1
, -1, -1, -1,  0,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0, -1
, -1, -1, -1, -1,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0, -1
, -1, -1, -1, -1,  0,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  0, -1
, -1, -1, -1, -1, -1,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  0, -1, -1
, -1, -1, -1, -1, -1,  0,  0,  1,  1,  1,  1,  1,  1,  1,  0,  0, -1, -1, -1
, -1, -1, -1, -1, -1, -1,  0,  1,  1,  1,  1,  1,  0,  0, -1, -1, -1, -1, -1
, -1, -1, -1, -1, -1, -1,  0,  0,  1,  1,  0,  0,  0, -1, -1, -1, -1, -1, -1
, -1, -1, -1, -1, -1, -1, -1,  0,  1,  1,  0, -1, -1, -1, -1, -1, -1, -1, -1
, -1, -1, -1, -1, -1, -1, -1,  0,  1,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1
, -1, -1, -1, -1, -1, -1, -1,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1
, -1, -1, -1, -1, -1, -1, -1, -1,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1 
, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
};

//图案2：足球
int PatternSoccer[100][100] = { 
253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,251,255,252,251,253,255,249,255,254,255,253,250,252,255,254,252,253,252,252,254,254,252,252,254,254,255,252,251,255,254,252,254,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,255,255,255,255,255,251,255,255,254,255,255,255,255,254,253,255,255,255,253,254,255,255,253,254,255,255,255,255,254,255,255,253,253,255,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,251,255,252,255,255,251,255,254,252,254,255,255,251,253,255,255,249,255,255,255,254,255,255,252,255,252,255,255,255,253,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,255,255,255,255,255,255,255,255,255,253,255,252,255,255,253,255,254,254,255,255,255,255,253,255,254,253,255,255,253,253,255,255,255,254,255,254,254,255,255,255,255,255,255,255,255,255,255,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,251,255,251,255,255,249,255,254,253,254,254,255,255,255,255,253,255,255,255,253,255,255,255,253,255,255,253,255,255,253,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,253,255,246,255,252,255,255,255,255,252,231,211,204,194,200,208,221,241,255,255,252,254,255,254,253,255,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,255,253,255,250,254,255,191,115,63,9,4,36,61,76,93,106,96,87,75,47,17,9,19,74,130,207,253,255,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,255,255,254,235,125,20,1,73,156,217,255,255,253,255,254,255,254,254,254,254,255,255,255,255,203,142,62,3,15,115,218,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,254,255,255,254,254,255,253,255,255,253,254,255,255,255,149,25,16,133,241,254,255,255,253,255,252,255,255,253,254,255,255,254,253,255,255,254,254,255,255,253,255,239,150,37,1,97,220,255,255,252,255,252,255,255,255,252,255,254,254,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,255,250,255,252,252,255,255,255,255,252,252,255,250,255,103,0,5,98,255,255,253,253,254,252,255,255,255,249,255,255,255,255,255,255,254,254,253,254,255,252,255,254,252,255,255,253,255,156,29,30,171,255,255,255,255,253,253,255,255,255,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,252,255,255,255,253,255,253,254,255,253,95,3,0,2,4,0,4,91,244,255,253,252,255,254,250,255,254,254,255,252,255,255,254,255,254,253,255,255,255,254,254,252,254,255,255,255,208,83,0,3,141,253,252,255,255,251,254,253,255,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,253,255,255,254,255,255,252,253,255,135,0,0,1,0,1,0,5,0,2,2,67,221,255,251,253,255,255,253,253,253,255,255,252,253,255,255,255,255,252,255,255,255,236,164,85,19,1,0,2,3,0,5,3,158,255,254,255,255,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,252,255,255,255,254,211,10,0,9,1,0,4,0,2,0,2,0,0,2,1,48,200,255,254,255,255,255,251,248,244,235,232,237,242,245,249,255,205,60,3,2,0,1,0,0,4,0,2,1,0,0,0,21,202,255,249,255,252,252,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,254,252,254,255,252,254,254,106,0,3,0,0,0,0,2,6,1,2,2,0,3,0,0,0,1,40,60,24,16,18,32,46,52,57,60,61,56,50,48,36,16,3,1,0,1,0,3,0,0,4,0,0,0,5,0,0,7,80,255,253,255,255,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,255,255,255,252,250,23,0,4,0,0,3,3,0,0,0,0,0,0,3,0,1,0,0,7,186,230,255,255,255,253,253,255,255,255,255,254,253,254,254,255,141,0,2,4,2,0,5,1,0,0,1,1,0,4,2,0,0,0,211,253,247,254,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,255,254,248,254,207,0,0,0,0,2,0,0,0,2,1,2,0,0,0,0,1,3,0,0,181,255,255,255,254,254,255,255,255,253,252,255,255,253,254,254,253,255,141,0,0,1,0,0,0,1,0,0,1,0,0,0,0,3,0,0,125,255,253,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,252,255,254,255,255,253,255,249,255,255,252,166,0,7,0,0,0,0,0,0,0,0,0,0,2,0,2,0,3,0,0,125,255,250,255,255,254,255,255,255,255,255,255,255,255,255,255,255,254,253,255,109,0,2,0,0,0,0,1,0,0,0,2,0,0,1,3,0,1,52,254,254,255,254,255,254,255,255,252,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,252,255,255,255,252,255,255,254,255,244,254,131,0,0,1,0,0,0,0,0,0,0,0,0,1,0,2,0,0,3,1,64,253,255,254,255,254,255,249,254,255,255,255,255,255,255,255,255,255,254,255,251,255,72,1,1,0,2,1,0,1,1,0,0,2,1,0,0,0,6,0,14,251,249,252,255,255,253,253,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,253,254,255,255,253,255,251,250,255,116,1,1,5,0,2,0,0,0,0,0,0,0,0,0,0,0,7,0,0,15,250,255,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,254,249,255,255,19,1,4,0,0,4,0,2,2,0,0,0,1,3,0,0,5,0,0,235,255,255,250,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,254,255,253,255,252,255,255,250,254,127,2,0,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,3,0,249,255,253,255,254,253,253,250,252,255,255,255,255,255,255,255,255,255,254,255,255,254,251,255,244,1,0,0,0,0,0,0,4,0,2,0,0,0,3,0,1,2,0,1,234,255,255,252,255,251,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,252,254,255,254,255,254,253,255,151,5,0,0,0,4,1,0,0,0,0,0,0,0,0,0,0,1,0,0,3,207,253,254,253,252,254,255,255,255,251,255,255,255,255,255,255,255,255,255,255,250,251,255,254,252,255,164,3,2,0,0,0,2,0,1,0,0,3,0,0,1,0,0,0,3,3,237,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,253,255,252,248,255,194,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,3,0,0,151,255,252,253,255,254,255,251,252,255,254,255,255,255,255,255,255,255,255,255,255,254,255,251,255,252,254,255,38,2,0,0,3,0,0,2,0,0,0,4,1,0,0,0,5,0,2,0,255,254,252,252,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,251,255,254,255,255,255,242,0,4,1,0,0,3,0,0,1,0,0,0,0,0,0,0,0,4,0,2,94,253,252,255,255,255,255,253,255,255,253,253,254,255,255,255,255,255,255,255,255,251,255,254,255,253,255,252,253,231,0,1,0,0,0,2,0,0,3,0,0,1,1,0,2,0,1,2,80,1,254,250,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,253,252,255,0,23,1,0,1,1,0,2,2,0,0,0,0,0,0,0,0,0,2,3,32,253,255,252,255,255,255,253,255,255,251,255,255,254,255,255,255,255,255,255,255,255,255,255,254,254,255,252,255,254,253,63,0,3,1,0,0,0,2,0,3,0,0,2,0,1,1,0,0,176,134,47,255,254,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,249,255,255,253,58,155,78,1,0,1,3,0,0,2,0,0,0,3,0,1,0,0,0,0,5,251,253,250,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,216,2,0,0,2,0,1,0,0,1,0,0,1,1,0,0,0,0,163,253,43,141,255,254,254,255,254,255,255,253,254,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,251,253,175,25,253,105,0,4,0,0,4,1,0,0,2,1,0,3,2,0,0,0,0,237,255,254,255,254,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,27,2,1,2,0,1,3,1,1,1,3,0,0,0,1,0,4,172,255,253,0,224,255,252,255,254,253,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,251,255,255,255,0,252,255,144,3,0,4,0,0,1,0,1,0,1,0,1,19,91,155,211,39,182,252,255,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,162,2,0,0,0,0,0,0,2,0,1,0,0,0,1,0,2,183,253,255,206,4,253,254,251,255,255,252,255,250,255,255,255,255,
255,255,255,255,255,255,255,255,255,248,255,59,149,255,252,189,0,0,2,1,0,0,2,0,26,113,196,255,255,254,254,254,255,0,255,255,249,255,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,104,157,242,212,198,172,139,107,62,13,1,0,5,0,3,1,0,190,255,255,255,78,122,254,255,254,253,255,253,255,255,255,255,255,
255,255,255,255,255,255,255,255,251,255,210,5,255,255,255,229,0,2,1,0,1,17,136,236,253,252,255,255,252,255,248,255,251,150,47,252,255,255,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,255,255,255,254,251,254,252,255,255,255,209,134,63,0,3,0,195,255,250,255,255,0,248,254,251,255,252,255,255,255,255,255,255,
255,255,255,255,255,255,255,254,255,255,10,210,248,254,255,255,2,0,0,103,222,255,254,255,255,255,251,255,255,253,255,255,253,255,19,178,255,249,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,148,83,255,254,254,255,255,255,255,255,252,255,254,255,253,255,227,12,201,255,255,251,255,158,57,255,254,254,255,255,255,255,255,255,255,
255,255,255,255,255,255,254,254,254,179,38,255,255,249,255,255,15,130,255,251,253,255,253,254,253,255,255,254,253,255,254,252,254,254,251,1,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,2,238,255,254,254,255,254,253,254,255,255,255,252,253,254,255,250,222,5,254,252,254,252,255,0,214,255,255,255,253,254,255,255,255,255,
255,255,255,255,255,255,254,254,255,1,229,254,255,255,255,250,1,254,255,255,255,254,254,255,255,255,253,255,255,255,255,255,255,254,255,160,32,255,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,108,92,255,253,255,254,255,255,255,255,255,253,253,255,255,255,254,255,255,100,95,255,251,255,254,190,44,252,252,255,255,255,255,255,255,255,
255,254,255,255,254,255,251,255,188,43,255,255,253,253,252,113,135,253,251,255,252,255,255,253,255,255,255,255,255,255,255,255,255,255,247,255,51,117,255,251,255,255,254,255,255,253,255,253,255,255,255,255,255,253,254,255,255,253,252,255,253,255,253,191,0,255,249,254,255,254,255,255,255,255,255,255,255,255,255,255,255,254,255,255,0,235,254,255,254,254,1,230,255,253,255,255,255,255,255,255,
255,251,255,255,254,255,253,255,20,220,252,252,253,252,255,1,255,255,255,255,253,255,252,255,255,255,255,255,255,255,255,255,255,254,255,251,255,0,169,255,255,252,255,255,253,255,252,255,253,254,255,254,255,255,255,255,250,255,254,255,253,251,206,0,255,252,254,255,254,255,255,254,255,255,255,255,255,255,255,255,254,255,253,255,194,12,254,255,252,255,172,68,253,254,253,251,255,255,255,255,
254,255,255,254,254,251,255,230,8,249,255,254,255,253,196,50,254,248,255,254,255,255,255,255,255,255,255,255,255,255,255,255,252,255,253,255,255,255,0,194,255,248,250,253,254,255,249,253,255,255,255,254,254,254,253,253,255,255,255,254,255,186,0,248,255,255,255,251,255,252,255,255,255,255,255,255,255,255,255,255,253,255,253,254,255,37,186,252,254,251,254,0,255,255,251,255,255,255,255,255,
255,255,252,254,255,250,255,97,153,255,255,254,252,255,69,177,254,255,253,255,255,251,255,255,255,255,255,255,255,255,255,255,255,255,255,251,253,255,255,0,192,255,255,255,252,254,248,213,180,154,134,131,122,108,112,130,125,144,146,154,128,6,255,255,253,255,254,255,255,255,255,253,255,255,255,255,255,255,255,255,255,252,255,251,255,234,0,255,255,255,255,112,140,249,255,253,255,255,255,255,
255,252,255,255,254,255,255,0,251,254,255,253,255,255,0,255,254,250,251,255,255,255,252,251,255,255,255,255,255,255,255,255,252,255,252,255,252,249,255,252,0,159,136,80,24,0,1,0,0,2,0,0,0,2,2,0,2,0,0,5,0,78,254,247,255,254,255,252,255,255,255,254,255,255,255,255,255,255,255,255,255,255,254,255,250,255,62,169,254,254,253,239,8,253,252,255,255,255,255,255,
255,253,255,255,251,254,205,52,255,252,255,255,255,192,69,252,255,254,255,255,251,255,255,255,255,255,255,255,255,255,255,255,255,252,253,255,255,255,253,253,188,0,1,0,0,3,0,0,0,0,0,2,3,1,0,0,0,2,3,0,0,0,255,255,255,251,252,255,255,252,255,255,255,255,255,255,255,255,255,255,250,255,253,251,255,253,236,2,254,255,255,254,12,246,255,255,255,255,255,255,
255,255,253,254,255,254,87,169,254,253,251,255,253,89,174,254,255,254,253,255,255,252,252,255,255,255,255,255,255,255,255,255,251,255,255,254,250,254,251,255,15,1,0,5,0,0,1,0,1,2,1,0,0,0,0,0,1,0,0,1,3,0,121,255,251,255,255,255,254,255,251,255,255,255,255,255,255,255,255,255,255,255,253,255,255,250,255,31,205,254,253,252,125,134,255,255,255,255,255,255,
253,255,255,253,254,255,0,255,255,255,255,252,255,9,253,255,255,254,255,253,252,255,254,255,255,255,255,255,255,255,255,255,255,254,255,255,255,255,255,168,0,0,3,0,1,1,2,0,0,0,0,2,1,0,0,2,0,3,0,0,1,0,3,255,255,253,253,254,255,252,255,255,255,255,255,255,255,255,255,255,253,255,255,254,253,255,252,181,67,255,254,255,229,34,253,255,255,255,255,255,
255,253,255,253,255,242,22,255,254,255,255,252,254,18,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,253,255,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,3,1,0,2,0,204,254,253,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,1,253,255,253,253,1,253,255,255,255,255,255,
255,255,254,255,255,171,97,255,254,255,252,255,191,80,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,255,255,254,251,199,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,80,255,252,254,255,254,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,70,185,255,253,255,59,212,255,255,255,255,255,
255,255,251,255,255,85,189,255,255,254,255,253,119,155,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,255,255,250,255,79,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,2,0,1,0,251,253,254,255,253,255,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,180,81,255,255,252,132,142,251,255,255,255,255,
253,255,254,255,252,29,243,255,255,255,253,254,51,221,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,254,252,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,1,0,178,253,255,255,253,255,254,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,5,254,252,254,200,73,255,255,255,255,255,
255,254,255,254,255,12,255,255,255,255,254,255,12,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,255,253,255,188,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,0,2,1,0,2,64,255,255,255,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,18,250,252,255,255,20,252,255,255,255,255,
255,254,255,255,251,26,253,255,255,254,255,251,16,255,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,253,254,96,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,1,0,3,251,255,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,94,185,254,254,251,9,255,255,255,255,255,
255,255,254,254,227,61,252,255,254,255,252,220,59,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,252,27,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,2,0,0,185,255,254,255,255,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,181,29,255,253,253,35,252,255,255,255,255,
253,255,255,253,198,92,253,255,255,255,255,174,115,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,254,255,255,255,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,2,0,0,1,0,96,253,255,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,109,0,61,254,255,54,226,255,255,255,255,
255,255,255,253,181,116,253,253,254,255,253,7,178,255,255,253,254,255,255,255,253,255,255,255,255,255,255,255,255,255,255,255,255,253,255,252,211,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,255,255,255,254,255,253,255,255,255,255,255,255,255,255,254,255,255,255,251,255,254,254,241,0,2,0,96,255,85,202,255,255,255,255,
255,254,254,254,160,135,255,255,255,253,80,0,34,255,251,255,255,255,252,255,254,255,254,255,255,255,255,255,255,255,255,255,254,254,255,255,158,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,246,255,253,255,253,255,255,255,255,255,255,255,255,255,255,253,254,251,255,255,250,255,69,0,3,4,0,147,137,179,255,255,255,255,
254,255,255,255,164,139,255,250,254,192,0,4,0,125,255,252,254,254,255,255,254,255,253,255,255,255,255,255,255,255,255,255,255,255,251,253,100,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,182,255,254,255,254,255,255,255,255,255,255,255,255,255,252,255,255,255,252,251,255,206,1,0,0,0,2,1,50,177,255,255,255,255,
255,253,254,253,162,134,255,255,255,1,0,0,3,1,215,255,249,255,255,249,255,251,253,255,255,255,255,255,255,255,255,255,254,253,255,255,61,5,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,117,255,255,254,255,255,255,255,255,255,255,255,255,255,255,255,252,254,255,255,255,3,2,0,0,4,2,0,0,186,255,255,255,255,
255,255,255,255,177,117,254,254,85,0,7,0,1,0,0,255,254,251,251,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,70,255,251,255,254,255,255,255,255,255,255,255,255,255,255,254,255,252,250,255,93,4,0,0,1,0,0,3,0,185,255,255,255,255,
253,255,253,255,191,96,255,197,1,0,0,3,0,1,6,29,255,255,254,253,253,254,252,252,255,255,255,255,255,255,255,255,254,255,252,255,1,1,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,18,255,254,253,255,253,255,255,255,255,255,255,255,255,255,254,255,255,254,169,1,0,0,2,0,1,1,0,8,194,255,255,255,255,
255,250,255,255,219,72,255,0,1,3,0,1,4,0,1,0,64,255,252,252,255,255,255,255,255,255,255,255,255,255,255,255,255,250,255,242,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,7,34,169,252,255,254,255,255,255,255,255,255,255,255,254,253,255,254,221,5,0,3,2,0,0,0,4,0,1,214,255,255,255,255,
253,255,253,255,246,60,104,2,0,0,1,0,0,0,3,4,1,74,255,255,255,254,254,254,255,255,255,255,255,255,255,255,175,87,1,27,82,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,109,254,217,82,0,70,194,255,255,255,255,255,255,255,255,252,255,252,242,0,1,4,0,0,0,2,1,0,2,0,241,255,255,255,255,
254,255,253,254,255,6,0,0,0,0,0,0,0,0,0,0,0,0,39,247,255,255,253,255,255,252,255,254,203,106,26,0,86,179,255,254,255,109,2,0,1,1,0,0,2,0,0,0,1,0,0,3,0,0,0,0,1,2,0,0,1,0,5,0,123,255,255,255,255,255,179,61,0,67,177,254,254,252,255,255,255,255,241,0,0,0,3,0,2,0,1,0,0,3,0,254,255,255,255,255,
254,254,255,252,254,27,0,4,0,0,0,0,0,0,0,0,4,2,2,0,125,253,254,255,227,138,39,5,58,160,236,255,255,255,255,254,250,255,130,1,1,0,6,2,0,3,3,0,0,1,0,0,0,3,2,0,0,0,0,0,1,8,0,165,255,249,250,255,249,254,255,255,252,190,80,5,31,115,199,254,251,220,0,0,7,0,0,1,0,0,1,3,0,0,8,255,255,255,255,255,
255,253,255,252,254,87,0,1,0,0,0,0,0,0,0,0,0,0,0,3,1,0,82,0,36,126,217,253,254,255,255,255,252,255,252,255,255,254,254,172,0,2,2,0,3,0,0,0,3,3,0,0,3,0,0,1,0,1,2,1,0,0,202,255,255,251,255,255,253,254,255,254,255,255,255,254,235,152,62,15,32,0,4,0,1,0,0,4,0,2,0,0,1,1,63,255,255,255,255,255,
255,255,254,254,255,173,4,0,0,0,0,0,0,0,0,0,2,0,2,2,0,5,97,255,252,255,255,252,255,255,253,253,255,255,255,255,255,255,251,255,216,0,0,0,0,4,0,3,0,0,2,0,0,2,1,0,2,0,1,2,15,243,255,252,249,255,249,252,255,255,254,254,254,253,255,255,254,255,255,253,251,2,0,0,0,1,0,0,1,0,0,1,0,0,126,255,255,255,255,255,
254,255,254,255,255,238,0,0,0,0,0,0,0,0,0,0,0,3,1,0,0,2,204,254,254,252,255,255,252,253,255,255,253,254,254,253,253,254,255,250,255,255,43,2,1,0,0,0,6,1,0,0,0,1,2,0,0,3,0,91,253,255,254,255,255,255,255,255,250,255,252,255,255,255,252,255,255,255,255,255,254,10,0,1,0,0,1,0,0,0,3,1,0,5,198,253,255,255,255,255,
255,254,255,253,255,255,13,1,0,0,0,0,0,0,0,0,0,0,0,2,0,0,253,255,255,255,255,255,255,255,255,255,255,254,255,255,251,254,255,254,252,254,255,143,0,2,3,0,0,0,0,0,0,0,1,0,0,3,205,255,255,255,252,254,255,249,255,255,255,255,251,255,255,255,255,255,255,255,253,255,255,49,1,0,1,0,1,0,0,3,1,0,1,2,255,254,255,255,255,255,
255,254,255,253,254,253,103,0,0,0,0,0,0,0,0,0,3,1,1,0,3,60,255,252,254,255,253,252,255,255,252,255,255,253,254,249,255,255,250,255,255,255,251,255,253,70,3,1,1,2,0,0,5,1,0,2,136,255,255,250,247,255,255,255,254,255,253,249,255,255,255,253,255,252,254,255,254,255,255,255,255,84,0,3,0,0,3,0,0,0,0,2,2,39,255,255,255,255,255,255,
255,253,254,255,255,255,206,1,0,0,0,0,0,0,0,0,0,0,0,4,0,154,254,255,255,255,255,255,253,255,255,254,255,255,255,255,255,254,255,253,255,255,253,253,253,255,232,95,0,0,0,4,0,6,113,255,255,248,255,255,255,254,255,254,255,253,253,255,255,255,254,255,254,255,255,252,255,255,255,253,255,118,0,0,1,2,0,1,0,0,2,1,0,152,254,253,255,255,255,255,
254,255,253,255,255,253,255,0,0,1,1,0,0,4,0,0,0,1,1,0,0,211,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,163,65,0,132,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,145,0,2,0,2,0,1,0,1,0,1,2,250,252,255,255,255,255,255,
255,255,255,253,255,252,251,117,0,0,3,1,3,0,0,4,3,2,0,0,3,252,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,251,255,255,44,255,251,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,165,0,0,2,0,0,0,0,5,0,0,51,254,254,255,255,255,255,255,
255,252,255,254,255,255,255,237,0,2,0,4,0,0,5,0,0,0,1,1,14,255,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,255,40,253,255,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,176,0,0,3,0,1,0,4,0,0,1,188,255,251,255,255,255,255,255,
254,255,255,255,253,255,254,255,57,1,2,0,1,0,0,2,2,0,0,3,55,251,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,52,243,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,173,2,1,1,0,0,1,1,2,0,0,255,253,255,254,255,255,255,255,
254,255,254,255,254,254,254,249,210,0,0,1,0,3,0,3,1,2,0,0,97,254,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,71,223,255,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,166,1,2,0,0,0,1,0,0,1,148,248,255,255,255,255,255,255,255,
254,255,254,255,255,255,255,255,254,43,2,0,1,2,0,1,0,1,2,0,121,254,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,79,226,251,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,143,0,0,2,0,1,0,3,6,0,253,255,253,255,253,255,255,255,255,
255,255,254,255,254,253,252,255,254,208,0,3,0,2,0,1,3,0,0,1,141,255,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,255,79,218,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,90,0,0,2,0,1,0,0,2,150,255,255,253,255,253,255,255,255,255,
255,255,253,255,253,255,255,251,255,253,60,0,2,0,0,0,0,0,0,0,146,253,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,83,218,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,255,35,1,2,0,0,1,0,3,10,255,255,254,254,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,254,240,2,0,0,0,1,0,1,0,0,149,255,252,255,255,255,255,255,255,255,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,255,73,222,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,254,255,255,255,250,255,254,2,2,0,0,2,0,1,1,198,254,253,255,254,255,254,255,255,255,255,
255,255,255,255,255,255,255,255,253,255,254,122,1,0,0,0,1,0,3,0,131,248,255,253,253,250,255,254,252,255,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,57,232,252,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,255,255,251,255,255,254,199,0,0,0,3,0,0,2,74,255,252,255,253,253,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,251,254,255,9,78,30,0,0,0,0,1,110,255,254,255,255,255,253,255,255,251,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,251,255,255,30,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,252,255,254,255,252,16,15,46,73,103,144,154,0,255,252,255,252,255,255,251,253,255,255,255,255,
255,255,255,255,255,255,255,255,251,255,255,251,224,0,255,251,168,81,1,0,81,252,247,255,252,255,255,252,252,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,7,255,253,255,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,251,255,255,254,251,254,48,116,250,255,255,251,255,17,190,252,255,253,251,255,253,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,254,254,252,255,131,47,255,253,254,255,242,18,155,255,255,255,252,252,255,254,255,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,253,24,255,253,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,253,255,79,72,255,251,251,255,255,80,91,254,255,255,251,255,254,255,254,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,251,254,35,134,255,255,254,254,255,0,134,253,247,255,255,252,255,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,199,71,255,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,254,253,249,255,99,41,253,252,255,255,252,165,10,255,255,252,253,255,251,255,253,255,250,255,255,255,255,
255,255,255,255,255,255,255,255,252,255,253,252,255,253,255,0,192,254,252,254,255,255,23,102,255,251,253,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,254,134,154,255,251,255,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,101,32,255,255,251,251,254,207,0,255,252,252,255,252,255,253,253,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,254,255,254,253,254,252,253,0,229,255,253,254,255,255,57,53,255,255,252,255,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,25,141,253,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,252,255,71,47,255,255,253,255,255,226,0,252,251,255,255,255,255,255,254,255,255,252,253,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,231,1,233,254,253,255,252,255,116,8,251,255,255,252,253,254,255,254,255,255,255,255,252,255,255,252,255,255,255,251,255,255,216,7,0,1,37,226,253,255,255,252,255,254,255,255,255,252,255,255,255,255,255,252,255,253,253,255,21,85,255,251,251,253,253,234,0,234,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,255,218,0,234,255,248,255,254,255,179,0,198,255,252,253,255,255,255,252,255,252,254,255,254,255,255,255,255,250,255,255,105,0,3,0,0,0,2,71,240,254,255,253,255,253,249,255,252,254,255,253,252,255,250,254,255,209,2,154,254,254,254,255,254,217,0,227,255,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,250,255,219,0,221,255,255,252,250,253,242,2,93,255,255,252,255,255,255,253,255,253,255,254,254,255,251,255,254,186,5,0,0,4,0,0,1,0,4,0,77,219,255,249,255,255,253,255,255,251,255,255,254,255,255,81,0,230,255,255,252,255,249,188,0,238,255,254,255,255,253,254,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,255,255,232,1,181,254,255,255,255,255,255,105,2,198,255,255,250,255,254,255,255,253,255,255,254,255,217,40,0,0,3,0,0,7,1,0,3,0,0,0,2,31,146,243,255,253,252,255,252,254,254,255,151,0,126,254,255,251,250,255,254,131,1,253,255,252,254,254,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,255,0,115,253,253,254,253,254,254,230,20,22,224,255,252,254,250,255,255,252,254,193,46,1,4,2,5,0,1,0,0,0,0,0,0,4,2,0,0,2,0,14,94,167,223,255,253,157,0,74,255,255,251,251,255,255,253,49,36,255,255,252,255,255,253,255,251,253,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,253,255,252,253,255,51,36,255,255,254,255,249,255,254,197,5,28,197,255,255,255,234,123,0,4,0,0,0,0,1,2,2,1,0,2,1,3,0,0,0,1,3,0,2,2,2,0,0,4,0,79,245,254,255,250,253,255,255,220,0,131,255,252,255,254,254,253,255,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,251,252,255,149,2,192,249,255,255,250,255,255,255,206,36,2,109,18,0,0,0,0,6,0,2,0,0,0,0,0,2,0,0,2,0,1,0,2,2,0,2,0,0,1,1,0,169,251,255,255,252,255,255,254,106,0,224,255,252,254,253,255,255,255,253,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,253,255,254,254,236,11,69,252,255,255,251,255,253,255,255,254,3,3,0,2,0,0,0,3,0,0,1,1,2,0,0,1,0,0,1,0,0,0,0,2,0,0,0,0,0,1,253,255,255,249,255,254,195,2,92,253,255,253,253,255,254,255,252,255,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,255,139,0,146,255,255,254,254,255,250,255,128,0,3,0,1,0,0,0,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,118,253,252,255,255,235,37,19,224,255,253,250,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,255,255,254,255,74,0,169,255,255,255,255,255,220,5,0,0,0,2,2,0,0,2,2,0,0,1,2,1,0,0,1,2,0,6,0,0,0,0,1,1,0,245,255,254,233,54,0,183,250,255,254,255,255,255,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,249,253,255,255,239,61,0,150,253,255,250,255,6,0,2,1,0,0,0,1,1,0,0,0,0,0,1,2,2,0,0,1,0,2,2,1,1,0,0,83,255,193,31,0,174,255,255,253,255,255,250,255,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,253,255,255,247,92,0,80,212,255,125,1,0,1,0,1,3,1,0,0,3,3,2,1,0,0,0,0,1,0,3,0,2,0,0,6,0,76,0,50,205,255,255,253,255,254,255,249,255,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,250,255,255,254,251,255,252,255,166,37,0,65,0,3,1,0,0,0,1,4,2,0,0,0,0,0,3,3,1,0,3,0,1,0,3,0,0,26,152,255,255,252,255,249,255,253,254,254,255,255,250,255,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,252,255,253,255,253,255,255,255,177,95,18,2,1,0,0,0,0,0,2,1,0,0,1,1,0,0,0,0,0,0,30,91,183,254,255,255,252,254,254,254,255,253,255,255,255,254,251,255,255,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,255,251,252,255,255,255,255,255,254,252,248,254,253,255,253,252,205,146,101,66,32,7,0,0,0,0,2,13,41,81,112,159,213,254,255,255,255,249,255,255,255,255,255,255,251,255,255,254,255,254,255,254,253,255,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,255,254,252,255,255,253,255,255,255,255,253,255,255,255,255,255,255,254,255,255,255,254,254,255,255,255,254,255,255,254,255,255,253,255,255,254,255,251,255,255,253,255,252,255,253,255,254,255,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
};

void setup()
{ //将步进电机用到的IO管脚设置成输出
  //按钮与stepper初始化
  pinMode(X_BUTTON, INPUT_PULLUP); //按钮接内部上拉电阻；
  pinMode(Y_BUTTON, INPUT_PULLUP); //按钮接内部上拉电阻；
  pinMode(X_DIR, OUTPUT);
  pinMode(X_STP, OUTPUT);
  pinMode(Y_DIR, OUTPUT);
  pinMode(Y_STP, OUTPUT);
  pinMode(EN, OUTPUT);
  digitalWrite(EN, LOW);

  //串口初始化
  Serial.begin(9600);
  Serial.println("BOOT!");

  //舵机驱动芯片初始化
  pwm.begin();
  pwm.setPWMFreq(50); // 50HZ更新频率，相当于20ms的周期
  delay(10);
}

//舵机丢下珠子，no为颜色（0-3）
void BallDrop(int no)
{
  pwm.setPWM(no, 0, angle_load);
  delay(500);
  pwm.setPWM(no, 0, angle_fire);
  delay(500);
}

//坐标x移动
void MoveX(int length)
{ length=length*gap;
  if (length >= 0)
  {
    digitalWrite(X_DIR, true);
    digitalWrite(Y_DIR, true);
  }
  else
  {
    length = -length;
    digitalWrite(X_DIR, false);
    digitalWrite(Y_DIR, false);
  }
  delay(50);
  for (int i = 0; i < length; i++)
  {
    digitalWrite(X_STP, HIGH);
    digitalWrite(Y_STP, HIGH);
    delayMicroseconds(800);

    digitalWrite(X_STP, LOW);
    digitalWrite(Y_STP, LOW);
    delayMicroseconds(800);  
  }
}

//坐标y移动
void MoveY(int length)
{
  length=length*gap;
  if (length >= 0)
  {
    digitalWrite(X_DIR, false);
    digitalWrite(Y_DIR, true);
  }
  else
  {
    length = -length;
    digitalWrite(X_DIR, true);
    digitalWrite(Y_DIR, false);
  }
  delay(50);
  for (int i = 0; i < length; i++)
  {
    digitalWrite(X_STP, HIGH);
    digitalWrite(Y_STP, HIGH);
    delayMicroseconds(800);

    digitalWrite(X_STP, LOW);
    digitalWrite(Y_STP, LOW);
    delayMicroseconds(800);
  }
}

//初始化
void Init0()
{
  while (analogRead(X_BUTTON) <= 800) //微动开关
  {
    MoveX(-10);
    Serial.println("X_Init0");
  }
  while (analogRead(Y_BUTTON) <= 800)
  {
    MoveY(-10);
    Serial.println("y_Init0");
  }
}

//servo and stepping test
void Test1()
{
  MoveX(20);
  BallDrop(0);
  MoveY(20);
  BallDrop(1);
  MoveX(-20);
  BallDrop(2);
  MoveY(-20);
  BallDrop(3);
  delay(3000);
}

void loop()
{

  //Init0();
  Test1();

  int num = sizeof(PatternHeart) / sizeof(PatternHeart[0][0]);
  int row = sizeof(PatternHeart) / sizeof(PatternHeart[0]);
  int column = num / row;

  Serial.print("num=");
  Serial.print(num);
  Serial.print("row=");
  Serial.print(row);
  Serial.print("column=");
  Serial.println(column);

  int XCache = 0;
  int YCache = 0;
  for (int i_row = 0; i_row < row; i_row++)
  {
    for (int i_column = 0; i_column < column; i_column++)
    {
      Serial.print(PatternHeart[i_row][i_column]);
      if (PatternHeart[i_row][i_column] == -1)//没颜色不丢球
      {
        //测试
         Serial.print("[");
         Serial.print(i_row);
         Serial.print(",");
         Serial.print(i_column);
         Serial.print("]=");
         Serial.println(PatternHeart[i_row][i_column]);
        continue;

      }                                            
      else if (PatternHeart[i_row][i_column] == 0) //丢下颜色0的球
      {
        MoveX(i_row - XCache);
        MoveY(i_column - YCache);
        XCache = i_row;
        YCache = i_column;
        BallDrop(0);
        //测试
         Serial.print("[");
         Serial.print(i_row);
         Serial.print(",");
         Serial.print(i_column);
         Serial.print("]=");
         Serial.println(PatternHeart[i_row][i_column]);
      }
      else if (PatternHeart[i_row][i_column]  == 1) //丢下颜色1的球
      {
        MoveX(i_row - XCache);
        MoveY(i_column - YCache);
        XCache = i_row;
        YCache = i_column;
        BallDrop(1);
        //测试
         Serial.print("[");
         Serial.print(i_row);
         Serial.print(",");
         Serial.print(i_column);
         Serial.print("]=");
         Serial.println(PatternHeart[i_row][i_column]);
      }
      else if (PatternHeart[i_row][i_column]  == 2) //丢下颜色2的球
      {
        MoveX(i_row - XCache);
        MoveY(i_column - YCache);
        XCache = i_row;
        YCache = i_column;
        BallDrop(2);
        //测试
         Serial.print("[");
         Serial.print(i_row);
         Serial.print(",");
         Serial.print(i_column);
         Serial.print("]=");
         Serial.println(PatternHeart[i_row][i_column]);
      }
      else if (PatternHeart[i_row][i_column]  == 3) //丢下颜色3的球
      {
        MoveX(i_row - XCache);
        MoveY(i_column - YCache);
        XCache = i_row;
        YCache = i_column;
        BallDrop(3);
        //测试
         Serial.print("[");
         Serial.print(i_row);
         Serial.print(",");
         Serial.print(i_column);
         Serial.print("]=");
         Serial.println(PatternHeart[i_row][i_column]);
      }
      else
      {
        //测试
         Serial.print("[");
         Serial.print(i_row);
         Serial.print(",");
         Serial.print(i_column);
         Serial.print("]=");
         Serial.print(PatternHeart[i_row][i_column]);
        Serial.println("error_color");
        while (1);
      }
      
    }
  }


      Serial.println("fin");
}
